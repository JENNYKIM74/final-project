<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.hta.lecture.mapper.WishlistMapper">
	
	<insert id="addWishList" parameterType="com.hta.lecture.vo.Wishlist">
		insert into final_cart_tb
			(wish_no, user_no, class_no)
		values
			(wish_no_seq.nextval,#{userNo},#{classNo})
	</insert>
	
	<delete id="deleteWishListByNo" parameterType="int">
	   delete from final_cart_tb
	   where 
	   	wish_no = #{value};
	</delete>
	
	<select id="getWishClasstByUserNo" parameterType="int" resultType="com.hta.lecture.dto.WishlistDto" >
		select
	    		  A.class_no 				as classNo
                 ,A.class_title				as title
                 ,B.teacher_name			as teacherName
                 ,A.class_price				as price
                 ,A.class_discountprice  	as discountPrice
                 ,A.class_image				as image
                 ,C.wish_no					as wishNo
                 ,C.user_no					as userNo
             from
                 final_class_tb A, final_teacher_tb B, final_wishlist_tb C
             where
                 A.teacher_no = B.teacher_no and A.class_no = C.class_no 
                 and user_no = #{value}
	</select>
</mapper>